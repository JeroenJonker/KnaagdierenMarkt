@page "/"
@inject HttpClient Http
@using Microsoft.AspNetCore.SignalR.Client
@using KnaagdierenMarktGame.Shared
@using Newtonsoft.Json
@using KnaagdierenMarktGame.Client.Components
@using KnaagdierenMarktGame.Client.Classes
@inject GameConnection gameConnection
@implements IDisposable

<Login/>


@code {
    //private HubConnection hubConnection;
    //private List<Group> groups = new List<Group>();
    //private Group Group = new Group();
    //private User user = new User();

    //public User User
    //{
    //    get { return user; }
    //    set { user = value; }
    //}

    protected override async Task OnInitializedAsync()
    {
        await gameConnection.StartConnection();
    }


    public bool IsConnected =>
        gameConnection.HubConnection.State == HubConnectionState.Connected;


    public void Dispose()
    {
        _ = gameConnection.HubConnection.DisposeAsync();
    }

}
